{% extends "global/Page.html" %}
{% load otree static %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{% static 'auction/css/auction.css' %}">
{% endblock %}

{% block content %}

    <div class = "auction-market-name">
        <div>Mercado de Alto Riesgo</div>
        <div>Mercado de Bajo Riesgo</div>
    </div>
    <div class = "auction-market-screen">
        <div class = "auction-market-1">
            <div class = "market-half-1">
                <div class = "market-half-1-limitOffer">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input type = "number" id = "HighBuyLimitPrice">
                                </td>
                                <td>
                                    <input type = "number" id = "HighBuyLimitQuantity"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <button type = "button" id = "HighOfferToBuyButton" onclick = {HighOfferToBuy()} style = "width: 100%;background-color:rgb(253, 119, 119)">Oferta de Compra</button>
                </div>
                <div class = "market-half-1-list">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody id = "HighBuyTable"></tbody>
                    </table>    
                </div>  
                <div class = "market-half-1-marketOffer">
                    <label>Cantidad</label>
                    <input type = "number" id = "HighSellMarket" style = "width: 70%;"/>
                    <button type = "button" style = "width:100%" onclick = {HighSell()}>Vender</button>
                </div>  
            </div>
            <div class = "market-half-2">
                <div class = "market-half-1-limitOffer">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input type = "number" id = "HighSellLimitPrice">
                                </td>
                                <td>
                                    <input type = "number" id = "HighSellLimitQuantity"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <button type = "button" id = "HighOfferToSellButton" onclick = {HighOfferToSell()} style = "width: 100%;">Oferta de Venta</button>
                </div>
                <div class = "market-half-1-list">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody id = "HighSellTable"></tbody>
                    </table>
                </div>  
                <div class = "market-half-1-marketOffer">
                    <label>Cantidad</label>
                    <input type = "number" id = "HighBuyMarket" style = "width: 70%;"/>
                    <button type = "button" onclick = {HighBuy()}  style = "width: 100%;background-color:rgb(253, 119, 119)">Comprar</button>
                </div>  
            </div>
        </div>
        <div class = "auction-market-monitor">
            <div class = "auction-trader-budget">
                <div style = "text-align: center">
                    Portafolio
                </div>
                <div style = "text-align: center" id = "TotalHoldings"></div>
                <table style = "width:100%">
                    <thead>
                        <th>Activo</th>
                        <th>Cantidad</th>
                        <th>Capital</th>
                    </thead>
                    <tbody>
                        <tr id = "HighRiskHoldings"></tr>
                        <tr id = "LowRiskHoldings"></tr>
                    </tbody>
                </table>
            </div>
            <div class = "auction-market-prices">
                <div style = "text-align: center">
                    Precios de Mercado
                </div>
                <table style = "width:100%">
                    <thead>
                        <th>Precio de Alto Riesgo</th>
                        <th>Precio de Bajo Riesgo</th>
                    </thead>
                    <tbody>
                        <tr id = "AssetPrices">
                        </tr>
                    </tbody>
                </table>
            </div>
            
        </div>
        <div class = "auction-market-2">
            <div class = "market-half-1">
                <div class = "market-half-1-limitOffer">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input type = "number" id = "LowBuyLimitPrice">
                                </td>
                                <td>
                                    <input type = "number" id = "LowBuyLimitQuantity"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <button type = "button" id = "LowOfferToBuyButton" onclick = {LowOfferToBuy()} style = "width: 100%;background-color:rgb(253, 119, 119)">Oferta de Compra</button>
                </div>
                <div class = "market-half-1-list">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody id = "LowBuyTable"></tbody>
                    </table>
                </div>  
                <div class = "market-half-1-marketOffer">
                    <label>Cantidad</label>
                    <input type = "number" id = "LowSellMarket" style = "width: 70%;"/>
                    <button type = "button" onclick = {LowSell()} style = "width:100%">Vender</button>
                </div>  
            </div>
            <div class = "market-half-2">
                <div class = "market-half-1-limitOffer">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <input type = "number" id = "LowSellLimitPrice">
                                </td>
                                <td>
                                    <input type = "number" id = "LowSellLimitQuantity"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <button type = "button" id = "LowOfferToSellButton" onclick = {LowOfferToSell()} style = "width: 100%;">Oferta de Venta</button>
                </div>
                <div class = "market-half-1-list">
                    <table style = "width:100%">
                        <thead>
                            <th>Precio</th>
                            <th>Cantidad</th>
                        </thead>
                        <tbody id = "LowSellTable"></tbody>
                    </table>
                </div>  
                <div class = "market-half-1-marketOffer">
                    <label>Cantidad</label>
                    <input type = "number" id = "LowBuyMarket" style = "width: 70%;"/>
                    <button type = "button" onclick = {LowBuy()}
                    style = "width: 100%;background-color:rgb(253, 119, 119)">Comprar</button>
                </div>  
            </div>
        </div>
    </div>

    <input id = "Total" hidden/>

    <input id = "Low" hidden/>
    <input id = "LowPrice" hidden/>
    <input id = "LowHoldings" hidden/>

    <input id = "High" hidden/>
    <input id = "HighPrice" hidden/>
    <input id = "HighHoldings" hidden/>

{% endblock %}

{% block scripts%}
    <script type="text/javascript">
        var player_id = {{ player_id }};
    </script>
    <script type="text/javascript" src="{% static 'auction/js/auction.js' %}"></script> 
{% endblock %}